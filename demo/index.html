<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <form>
      <input type="file" id="input-file" name="filename">
    </form>

    <div>
      Source Image
    </div>
    <div style="border: 1px solid black; margin: 10px;">
      <canvas id="source-canvas"></canvas>
    </div>

    <button onclick="convertImage()">Convert</button>

    <div>
      Destination Image
    </div>
    <div style="border: 1px solid black; margin: 10px;">
      <canvas id="destination-canvas"></canvas>
    </div>

    <script type="text/javascript">
      const sourceCanvas = document.getElementById('source-canvas');
      const sourceCanvasCtx = sourceCanvas.getContext('2d');

      const fileInput = document.getElementById('input-file');

      fileInput.addEventListener('change', async (e) => {
        console.log(await encode(Buffer.from(await e.target.files[0].arrayBuffer()), {
          method: 'ASCII'
        }));

        const image = new Image();
        image.addEventListener('load', () => {
          sourceCanvasCtx.clearRect(0, 0, sourceCanvas.width, sourceCanvas.height);
          sourceCanvasCtx.drawImage(image, 0, 0);
        });
        image.src = URL.createObjectURL(e.target.files[0]);
      });

      function convertImage() {

      }

    </script>

    <script src="../dist/zpl-image-convert.bundle.js" type="text/javascript"></script>
  </body>
</html>